<div class="site-content-wrapper">
  <div class="content-wrapper">
    <div class="xl-container">
      <h1 class="h4 text-center" id="practice-set-2023-toeic-test-1 -------- --------thoát">
        {{test.testTitle}}
        <a class="btn btn-sky btn-sm" routerLink="/tests/{{test.id}}/{{test.testTitle}}/">Thoát</a>
      </h1>

      <form (ngSubmit)="submitAnswer()">

        <!-- <input name="csrfmiddlewaretoken" type="hidden" value="0f2QpDvYWY4R7UH7PWErBiQEgbLJFmjPIRD8vcFLjIlcail7Lek7BRS8pt9kahrx">
        <button type="submit" disabled="" style="display: none" aria-hidden="true"></button>
        <input type="hidden" name="uid" value="298fd458-1ede-409c-8f63-fc9ac9600f4c">
        <input type="hidden" name="start_time" value="1715434510.311">
        <input type="hidden" name="end_time" value="0">
        <input type="hidden" name="time_limit" value="120.0">
        <input type="hidden" name="timeleft_value" value="0"> -->

        <div class="test-wrapper" style="position: relative;">
          <div class="test-content contentblock" id="test-content">

            <div class="custom-control custom-switch highlight-toggle-box mb-3">
              <input type="checkbox" checked="" class="custom-control-input highlight-toggle" id="highlight-toggle">
              <label class="custom-control-label" for="highlight-toggle"><i>Highlight nội dung</i></label>
              <span class="ml-1 far fa-exclamation-circle" data-toggle="tooltip" data-placement="top" title=""
                data-original-title="Bôi đen text để highlight nội dung. Bạn có thể thay đổi màu sắc hoặc thêm ghi chú."></span>
            </div>

            <div class="context-wrapper">
              <div class="context-content context-audio center">
                  <audio controls *ngIf="audio">
                      <source [src]="'http://localhost:8080/audios/' + test.testTitle + '/' + audio"
                          type="audio/mpeg">
                      Your browser does not support the audio tag
                  </audio>
              </div>
            </div>

            <ul class="nav nav-pills nav-horizontal mb-4" id="pills-tab" role="tablist">
              <li class="nav-item" role="presentation">
                  <a class="nav-link" [class.active]="part[0]" (click)="switchPart(1)" id="pills-9773-tab"
                      data-toggle="pill" role="tab" aria-controls="pills-9773" aria-selected="false">Part 1</a>
              </li>

              <li class="nav-item" role="presentation">
                  <a class="nav-link" [class.active]="part[1]" (click)="switchPart(2)" id="pills-9774-tab"
                      data-toggle="pill" role="tab" aria-controls="pills-9774" aria-selected="true">Part 2</a>
              </li>

              <li class="nav-item" role="presentation">
                  <a class="nav-link" [class.active]="part[2]" (click)="switchPart(3)" id="pills-9775-tab"
                      data-toggle="pill" role="tab" aria-controls="pills-9775" aria-selected="false">Part 3</a>
              </li>

              <li class="nav-item" role="presentation">
                  <a class="nav-link" [class.active]="part[3]" (click)="switchPart(4)" id="pills-9776-tab"
                      data-toggle="pill" role="tab" aria-controls="pills-9776" aria-selected="false">Part 4</a>
              </li>

              <li class="nav-item" role="presentation">
                  <a class="nav-link" [class.active]="part[4]" (click)="switchPart(5)" id="pills-9777-tab"
                      data-toggle="pill" role="tab" aria-controls="pills-9777" aria-selected="false">Part 5</a>
              </li>

              <li class="nav-item" role="presentation">
                  <a class="nav-link" [class.active]="part[5]" (click)="switchPart(6)" id="pills-9778-tab"
                      data-toggle="pill" role="tab" aria-controls="pills-9778" aria-selected="false">Part 6</a>
              </li>

              <li class="nav-item" role="presentation">
                  <a class="nav-link" [class.active]="part[6]" (click)="switchPart(7)" id="pills-9779-tab"
                      data-toggle="pill" role="tab" aria-controls="pills-9779" aria-selected="false">Part 7</a>
              </li>
            </ul>

            @if (questions.length > 0) {
              <div class="tab-content" id="pills-tabContent">

                <div class="tab-pane show " [class.active]="part[0]" id="partcontent-9773" role="tabpanel" aria-labelledby="pills-tab">
                    <div class="context-wrapper"></div>

                    <div class="test-questions-wrapper">
                        <!-- Part 1 questions wrapper-->
                        @for(question of questions; track question.orderNumber) {
                        <div *ngIf=" question.part == 1">
                            <div class="context-wrapper">
                                <div class="context-content context-image">
                                    <img class="lazyel entered loaded" [src]="question.processedImg" data-ll-status="loaded" [alt]="question.orderNumber"/>
                                </div>
                            </div>

                            <div class="question-wrapper" [attr.data-qid]="question.id" id="question-wrapper-{{question.id}}">
                                <div class="question-number" [attr.data-qid]="question.id" data-markable="true">
                                    <strong>{{question.orderNumber}}</strong>
                                </div>

                                <div class="question-content text-highlightable">
                                    <div class="question-answers">
                                        <div class="form-check">
                                            <input data-type="question-answer" class="form-check-input"
                                                [attr.data-qid]="question.id" type="radio" name="question-{{question.id}}"
                                                id="question-{{question.id}}-A" value="A" />
                                            <label class="form-check-label" for="question-166845-A">
                                                {{question.optionA}} </label>
                                        </div>

                                        <div class="form-check">
                                            <input data-type="question-answer" class="form-check-input"
                                                [attr.data-qid]="question.id" type="radio" name="question-{{question.id}}"
                                                id="question-{{question.id}}-B" value="B" />
                                            <label class="form-check-label" for="question-166845-B">
                                                {{question.optionB}} </label>
                                        </div>

                                        <div class="form-check">
                                            <input data-type="question-answer" class="form-check-input"
                                                [attr.data-qid]="question.id" type="radio" name="question-{{question.id}}"
                                                id="question-{{question.id}}-C" value="C" />
                                            <label class="form-check-label" for="question-166845-C">
                                                {{question.optionC}} </label>
                                        </div>

                                        <div class="form-check">
                                            <input data-type="question-answer" class="form-check-input"
                                                [attr.data-qid]="question.id" type="radio" name="question-{{question.id}}"
                                                id="question-{{question.id}}-D" value="D" />
                                            <label class="form-check-label" for="question-166845-D">
                                                {{question.optionD}} </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        }
                        <!-- Part 1 questions wrapper-->
                    </div>

                    <div class="nextpart-wrapper mt-5">
                        <a (click)="switchPart(2)" class="nextpart" data-nextpart_id="9774"> TIẾP THEO<span
                                class="fa fa-chevron-right ml-2"></span> </a>
                    </div>
                </div>

                <div class="tab-pane " [class.active]="part[1]" id="partcontent-9774" role="tabpanel" aria-labelledby="pills-tab">
                    <div class="context-wrapper"></div>
                    <div class="test-questions-wrapper">
                        <!-- Part 2 questions wrapper-->
                        @for(question of questions; track question.orderNumber) {
                        @if (question.part == 2) {
                        <div class="context-wrapper"></div>
                        <div class="question-wrapper" [attr.data-qid]="question.id" id="question-wrapper-{{question.id}}">
                            <div class="question-number" [attr.data-qid]="question.id" data-markable="true">
                                <strong>{{question.orderNumber}}</strong>
                            </div>
                            <div class="question-content text-highlightable">
                                <div class="question-answers">
                                    <div class="form-check">
                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.id"
                                            type="radio" name="question-{{question.id}}" id="question-{{question.id}}-A" value="A" />
                                        <label class="form-check-label" for="question-166851-A"> {{question.optionA}}
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.id"
                                            type="radio" name="question-{{question.id}}" id="question-{{question.id}}-B" value="B" />
                                        <label class="form-check-label" for="question-166851-B"> {{question.optionB}}
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.id"
                                            type="radio" name="question-{{question.id}}" id="question-{{question.id}}-C" value="C" />
                                        <label class="form-check-label" for="question-166851-C"> {{question.optionC}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        }
                        }
                        <!-- Part 2 questions wrapper-->
                    </div>

                    <div class="nextpart-wrapper mt-5">
                        <a (click)="switchPart(3)" class="nextpart" data-nextpart_id="9775"> TIẾP THEO<span
                                class="fa fa-chevron-right ml-2"></span> </a>
                    </div>
                </div>

                <div class="tab-pane " [class.active]="part[2]" id="partcontent-9775" role="tabpanel" aria-labelledby="pills-tab">
                    <div class="context-wrapper"></div>
                    <div class="test-questions-wrapper">
                        <div *ngFor="let question of formatedQuestionsPart3">
                            @if (question.type == 'singleQuestion') {
                                <!-- Single question, khong co anh -->
                                <div class="question-group-wrapper">
                                    <div class="questions-wrapper two-cols">
                                        <div class="context-wrapper"></div>
                                        <div class="question-wrapper" [attr.data-qid]="question.question.id" id="question-wrapper-{{question.question.id}}">
                                            <div class="question-number" [attr.data-qid]="question.question.id" data-markable="true">
                                                <strong>{{question.question.orderNumber}}</strong>
                                            </div>
                                            <div class="question-content text-highlightable">

                                                <div class="question-text ">{{question.question.content}}</div>

                                                <div class="question-answers">
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-A" value="A">
                                                        <label class="form-check-label">
                                                        {{question.question.optionA}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-B" value="B">
                                                        <label class="form-check-label" for="question-166876-B">
                                                        {{question.question.optionB}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-C" value="C">
                                                        <label class="form-check-label">
                                                        {{question.question.optionC}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-D" value="D">
                                                        <label class="form-check-label">
                                                        {{question.question.optionD}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                            @if (question.type == 'passageQuestion') {
                                <!-- Passage question, co anh -->
                                <div class="question-group-wrapper">
                                    <div class="question-twocols">
                                        <div class="question-twocols-left">
                                            <div class="context-wrapper">
                                                <div class="context-content text-highlightable">
                                                    <div *ngFor="let image of question.images">
                                                        <p><img alt="Question image" [src]="image" title=""><span></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="question-twocols-right">
                                            <div class="questions-wrapper">
                                                @for (q of question.questions; track q.id) {
                                                    <div class="context-wrapper"></div>
                                                    <div class="question-wrapper" [attr.data-qid]="q.id" id="question-wrapper-{{q.id}}">
                                                        <div class="question-number" [attr.data-qid]="q.id" data-markable="true">
                                                            <strong>{{q.orderNumber}}</strong>
                                                        </div>

                                                        <div class="question-content text-highlightable">
                                                            <div class="question-text ">{{question.content}}</div>
                                                            <div class="question-answers">
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-A" value="A">
                                                                    <label class="form-check-label">
                                                                    {{q.optionA}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-B" value="B">
                                                                    <label class="form-check-label">
                                                                    {{q.optionB}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-C" value="C">
                                                                    <label class="form-check-label">
                                                                    {{q.optionC}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-D" value="D">
                                                                    <label class="form-check-label">
                                                                    {{q.optionD}}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                    <div class="nextpart-wrapper mt-5">
                        <a (click)="switchPart(4)" class="nextpart" data-nextpart_id="9776">
                        TIẾP THEO<span class="fa fa-chevron-right ml-2"></span>
                        </a>
                    </div>
                </div>

                <div class="tab-pane " [class.active]="part[3]" id="partcontent-9776" role="tabpanel" aria-labelledby="pills-tab">
                    
                    <div class="context-wrapper"></div>
                    <div class="test-questions-wrapper">
                        <div *ngFor="let question of formatedQuestionsPart4">
                            @if (question.type == 'singleQuestion') {
                                <!-- Single question, khong co anh -->
                                <div class="question-group-wrapper">
                                    <div class="questions-wrapper two-cols">
                                        <div class="context-wrapper"></div>
                                        <div class="question-wrapper" [attr.data-qid]="question.question.id" id="question-wrapper-{{question.question.id}}">
                                            <div class="question-number" [attr.data-qid]="question.question.id" data-markable="true">
                                                <strong>{{question.question.orderNumber}}</strong>
                                            </div>
                                            <div class="question-content text-highlightable">

                                                <div class="question-text ">{{question.question.content}}</div>

                                                <div class="question-answers">
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-A" value="A">
                                                        <label class="form-check-label">
                                                        {{question.question.optionA}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-B" value="B">
                                                        <label class="form-check-label" for="question-166876-B">
                                                        {{question.question.optionB}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-C" value="C">
                                                        <label class="form-check-label">
                                                        {{question.question.optionC}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-D" value="D">
                                                        <label class="form-check-label">
                                                        {{question.question.optionD}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                            @if (question.type == 'passageQuestion') {
                                <!-- Passage question, co anh -->
                                <div class="question-group-wrapper">
                                    <div class="question-twocols">
                                        <div class="question-twocols-left">
                                            <div class="context-wrapper">
                                                <div class="context-content text-highlightable">
                                                    <div *ngFor="let image of question.images">
                                                        <p><img alt="Question image" [src]="image" title=""><span></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="question-twocols-right">
                                            <div class="questions-wrapper">
                                                @for (q of question.questions; track q.id) {
                                                    <div class="context-wrapper"></div>
                                                    <div class="question-wrapper" [attr.data-qid]="q.id" id="question-wrapper-{{q.id}}">
                                                        <div class="question-number" [attr.data-qid]="q.id" data-markable="true">
                                                            <strong>{{q.orderNumber}}</strong>
                                                        </div>

                                                        <div class="question-content text-highlightable">
                                                            <div class="question-text ">{{question.content}}</div>
                                                            <div class="question-answers">
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-A" value="A">
                                                                    <label class="form-check-label">
                                                                    {{q.optionA}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-B" value="B">
                                                                    <label class="form-check-label">
                                                                    {{q.optionB}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-C" value="C">
                                                                    <label class="form-check-label">
                                                                    {{q.optionC}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-D" value="D">
                                                                    <label class="form-check-label">
                                                                    {{q.optionD}}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="nextpart-wrapper mt-5">
                        <a (click)="switchPart(5)" class="nextpart" data-nextpart_id="9777"> TIẾP THEO<span
                                class="fa fa-chevron-right ml-2"></span> </a>
                    </div>
                </div>

                <div class="tab-pane " [class.active]="part[4]" id="partcontent-9777" role="tabpanel" aria-labelledby="pills-tab">
                    <div class="context-wrapper"></div>
                    <div class="test-questions-wrapper">
                        <div *ngFor="let question of formatedQuestionsPart5">
                            @if (question.type == 'singleQuestion') {
                                <!-- Single question, khong co anh -->
                                <div class="question-group-wrapper">
                                    <div class="questions-wrapper two-cols">
                                        <div class="context-wrapper"></div>
                                        <div class="question-wrapper" [attr.data-qid]="question.question.id" id="question-wrapper-{{question.question.id}}">
                                            <div class="question-number" [attr.data-qid]="question.question.id" data-markable="true">
                                                <strong>{{question.question.orderNumber}}</strong>
                                            </div>
                                            <div class="question-content text-highlightable">

                                                <div class="question-text ">{{question.question.content}}</div>

                                                <div class="question-answers">
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-A" value="A">
                                                        <label class="form-check-label">
                                                        {{question.question.optionA}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-B" value="B">
                                                        <label class="form-check-label" for="question-166876-B">
                                                        {{question.question.optionB}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-C" value="C">
                                                        <label class="form-check-label">
                                                        {{question.question.optionC}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-D" value="D">
                                                        <label class="form-check-label">
                                                        {{question.question.optionD}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                            @if (question.type == 'passageQuestion') {
                                <!-- Passage question, co anh -->
                                <div class="question-group-wrapper">
                                    <div class="question-twocols">
                                        <div class="question-twocols-left">
                                            <div class="context-wrapper">
                                                <div class="context-content text-highlightable">
                                                    <div *ngFor="let image of question.images">
                                                        <p><img alt="Question image" [src]="image" title=""><span></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="question-twocols-right">
                                            <div class="questions-wrapper">
                                                @for (q of question.questions; track q.id) {
                                                    <div class="context-wrapper"></div>
                                                    <div class="question-wrapper" [attr.data-qid]="q.id" id="question-wrapper-{{q.id}}">
                                                        <div class="question-number" [attr.data-qid]="q.id" data-markable="true">
                                                            <strong>{{q.orderNumber}}</strong>
                                                        </div>

                                                        <div class="question-content text-highlightable">
                                                            <div class="question-text ">{{question.content}}</div>
                                                            <div class="question-answers">
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-A" value="A">
                                                                    <label class="form-check-label">
                                                                    {{q.optionA}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-B" value="B">
                                                                    <label class="form-check-label">
                                                                    {{q.optionB}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-C" value="C">
                                                                    <label class="form-check-label">
                                                                    {{q.optionC}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-D" value="D">
                                                                    <label class="form-check-label">
                                                                    {{q.optionD}}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="nextpart-wrapper mt-5">
                        <a (click)="switchPart(6)" class="nextpart" data-nextpart_id="9778"> TIẾP THEO<span
                                class="fa fa-chevron-right ml-2"></span> </a>
                    </div>
                </div>

                <div class="tab-pane " [class.active]="part[5]" id="partcontent-9778" role="tabpanel" aria-labelledby="pills-tab">
                    <div class="context-wrapper"></div>
                    <div class="test-questions-wrapper">
                        <div *ngFor="let question of formatedQuestionsPart6">
                            @if (question.type == 'singleQuestion') {
                                <!-- Single question, khong co anh -->
                                <div class="question-group-wrapper">
                                    <div class="questions-wrapper two-cols">
                                        <div class="context-wrapper"></div>
                                        <div class="question-wrapper" [attr.data-qid]="question.question.id" id="question-wrapper-{{question.question.id}}">
                                            <div class="question-number" [attr.data-qid]="question.question.id" data-markable="true">
                                                <strong>{{question.question.orderNumber}}</strong>
                                            </div>
                                            <div class="question-content text-highlightable">

                                                <div class="question-text ">{{question.question.content}}</div>

                                                <div class="question-answers">
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-A" value="A">
                                                        <label class="form-check-label">
                                                        {{question.question.optionA}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-B" value="B">
                                                        <label class="form-check-label" for="question-166876-B">
                                                        {{question.question.optionB}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-C" value="C">
                                                        <label class="form-check-label">
                                                        {{question.question.optionC}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-D" value="D">
                                                        <label class="form-check-label">
                                                        {{question.question.optionD}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                            @if (question.type == 'passageQuestion') {
                                <!-- Passage question, co anh -->
                                <div class="question-group-wrapper">
                                    <div class="question-twocols">
                                        <div class="question-twocols-left">
                                            <div class="context-wrapper">
                                                <div class="context-content text-highlightable">
                                                    <div *ngFor="let image of question.images">
                                                        <p><img alt="Question image" [src]="image" title=""><span></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="question-twocols-right">
                                            <div class="questions-wrapper">
                                                @for (q of question.questions; track q.id) {
                                                    <div class="context-wrapper"></div>
                                                    <div class="question-wrapper" [attr.data-qid]="q.id" id="question-wrapper-{{q.id}}">
                                                        <div class="question-number" [attr.data-qid]="q.id" data-markable="true">
                                                            <strong>{{q.orderNumber}}</strong>
                                                        </div>

                                                        <div class="question-content text-highlightable">
                                                            <div class="question-text ">{{question.content}}</div>
                                                            <div class="question-answers">
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-A" value="A">
                                                                    <label class="form-check-label">
                                                                    {{q.optionA}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-B" value="B">
                                                                    <label class="form-check-label">
                                                                    {{q.optionB}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-C" value="C">
                                                                    <label class="form-check-label">
                                                                    {{q.optionC}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-D" value="D">
                                                                    <label class="form-check-label">
                                                                    {{q.optionD}}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="nextpart-wrapper mt-5">
                        <a (click)="switchPart(7)" class="nextpart" data-nextpart_id="9779"> TIẾP THEO<span
                                class="fa fa-chevron-right ml-2"></span> </a>
                    </div>
                </div>

                <div class="tab-pane " [class.active]="part[6]" id="partcontent-9779" role="tabpanel" aria-labelledby="pills-tab">
                    <div class="context-wrapper"></div>
                    <div class="test-questions-wrapper">
                        <div *ngFor="let question of formatedQuestionsPart7">
                            @if (question.type == 'singleQuestion') {
                                <!-- Single question, khong co anh -->
                                <div class="question-group-wrapper">
                                    <div class="questions-wrapper two-cols">
                                        <div class="context-wrapper"></div>
                                        <div class="question-wrapper" [attr.data-qid]="question.question.id" id="question-wrapper-{{question.question.id}}">
                                            <div class="question-number" [attr.data-qid]="question.question.id" data-markable="true">
                                                <strong>{{question.question.orderNumber}}</strong>
                                            </div>
                                            <div class="question-content text-highlightable">

                                                <div class="question-text ">{{question.question.content}}</div>

                                                <div class="question-answers">
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-A" value="A">
                                                        <label class="form-check-label">
                                                        {{question.question.optionA}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-B" value="B">
                                                        <label class="form-check-label" for="question-166876-B">
                                                        {{question.question.optionB}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-C" value="C">
                                                        <label class="form-check-label">
                                                        {{question.question.optionC}}
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input data-type="question-answer" class="form-check-input" [attr.data-qid]="question.question.id" type="radio"
                                                        name="question-{{question.question.id}}" id="question-{{question.question.id}}-D" value="D">
                                                        <label class="form-check-label">
                                                        {{question.question.optionD}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                            @if (question.type == 'passageQuestion') {
                                <!-- Passage question, co anh -->
                                <div class="question-group-wrapper">
                                    <div class="question-twocols">
                                        <div class="question-twocols-left">
                                            <div class="context-wrapper">
                                                <div class="context-content text-highlightable">
                                                    <div *ngFor="let image of question.images">
                                                        <p><img alt="Question image" [src]="image" title=""><span></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="question-twocols-right">
                                            <div class="questions-wrapper">
                                                @for (q of question.questions; track q.id) {
                                                    <div class="context-wrapper"></div>
                                                    <div class="question-wrapper" [attr.data-qid]="q.id" id="question-wrapper-{{q.id}}">
                                                        <div class="question-number" [attr.data-qid]="q.id" data-markable="true">
                                                            <strong>{{q.orderNumber}}</strong>
                                                        </div>

                                                        <div class="question-content text-highlightable">
                                                            <div class="question-text ">{{question.content}}</div>
                                                            <div class="question-answers">
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-A" value="A">
                                                                    <label class="form-check-label">
                                                                    {{q.optionA}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-B" value="B">
                                                                    <label class="form-check-label">
                                                                    {{q.optionB}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-C" value="C">
                                                                    <label class="form-check-label">
                                                                    {{q.optionC}}
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input data-type="question-answer" class="form-check-input" [attr.data-qid]="q.id"
                                                                    type="radio" name="question-{{q.id}}" id="question-{{q.id}}-D" value="D">
                                                                    <label class="form-check-label">
                                                                    {{q.optionD}}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>

              </div>
            }

          </div>

          <div class="test-navigation is-affixed" id="test-navigation" style="position: relative;">
            <div class="test-navigation__inner" id="test-navigation__inner"
              style="position: initial; transform: translate3d(0px, 0px, 0px); top: 80px; left: 1051px; width: 200px;">
              <div>
                <div class="timeleft-wrapper mb-2">

                  Thời gian còn lại:
                  <span data-totaltime="120.0" data-timeleft-value="89.51666666666667" id="timeleft"
                    class="timeleft">
                    <countdown #cd [config]="{leftTime: test.duration!*60, format: 'h:m:s'}" (event)="handleEvent($event)"></countdown>
                  </span>

                </div>

                <button class="btn btn-outline-primary btn-block mb-3 mt-3" id="submit-test" (click)="submitAnswer()" type="submit">NỘP BÀI</button>

                <div class="mt-2 mb-2">
                    <span class="link font-09 text-danger" data-bs-toggle="collapse" data-bs-target="#restoreTest"
                      aria-expanded="false">
                      <i>Khôi phục/lưu bài làm<span class="fa fa-chevron-right ml-1"></span></i>
                    </span>
                  <div class="collapse contentblock p-2 mt-2 mb-4 gray-bg" id="restoreTest">
                    <div class="font-sm text-danger"><i>Nếu bị lỗi mạng và không nộp được bài, click vào đây để khôi
                        phục bài làm gần nhất.</i></div>
                    <div id="restore-test-btn" class="mt-2 btn-sm btn-block btn btn-outline-danger font-sm">Khôi phục
                    </div>
                    <p class="mt-2 mb-2 font-sm text-primary font-italic">Nếu bạn chưa muốn nộp bài nhưng vẫn muốn lưu
                    </p>
                    <div id="save-test-btn" class="mt-2 btn btn-block btn-sm btn-sky font-500 font-italic">Lưu bài làm
                    </div>
                    <p></p>
                  </div>
                </div>

                <p class="text-warning font-sm"><i><b>Chú ý: bạn có thể click vào số thứ tự câu hỏi trong bài để đánh
                      dấu review</b></i></p>

                <div class="test-questions-list">
                    <div class="test-questions-list-part">
                        <h6 id="part-1">Part 1</h6>
                        <div class="test-questions-list-wrapper">
                        @for(question of questions; track question.id) {
                            @if(question.part == 1) {
                                <span class="test-questions-listitem " [attr.data-qid]="question.id" id="test-questions-lisitem-{{question.id}}">
                                    {{question.orderNumber}}
                                </span>
                            }
                        }
                        </div>
                    </div>

                    <div class="test-questions-list-part">
                        <h6 id="part-2">Part 2</h6>
                        <div class="test-questions-list-wrapper">
                            @for(question of questions; track question.id) {
                                @if(question.part == 2) {
                                    <span class="test-questions-listitem " [attr.data-qid]="question.id" id="test-questions-lisitem-{{question.id}}">
                                        {{question.orderNumber}}
                                    </span>
                                }
                            }
                        </div>
                    </div>

                    <div class="test-questions-list-part">
                        <h6 id="part-3">Part 3</h6>
                        <div class="test-questions-list-wrapper">
                            @for(question of questions; track question.id) {
                                @if(question.part == 3) {
                                    <span class="test-questions-listitem " [attr.data-qid]="question.id" id="test-questions-lisitem-{{question.id}}">
                                        {{question.orderNumber}}
                                    </span>
                                }
                            }
                        </div>
                    </div>

                    <div class="test-questions-list-part">
                        <h6 id="part-4">Part 4</h6>
                        <div class="test-questions-list-wrapper">
                            @for(question of questions; track question.id) {
                                @if(question.part == 4) {
                                    <span class="test-questions-listitem " [attr.data-qid]="question.id" id="test-questions-lisitem-{{question.id}}">
                                        {{question.orderNumber}}
                                    </span>
                                }
                            }
                        </div>
                    </div>

                    <div class="test-questions-list-part">
                        <h6 id="part-5">Part 5</h6>
                        <div class="test-questions-list-wrapper">
                            @for(question of questions; track question.id) {
                                @if(question.part == 5) {
                                    <span class="test-questions-listitem " [attr.data-qid]="question.id" id="test-questions-lisitem-{{question.id}}">
                                        {{question.orderNumber}}
                                    </span>
                                }
                            }
                        </div>
                    </div>

                    <div class="test-questions-list-part">
                        <h6 id="part-6">Part 6</h6>
                        <div class="test-questions-list-wrapper">
                            @for(question of questions; track question.id) {
                                @if(question.part == 6) {
                                    <span class="test-questions-listitem " [attr.data-qid]="question.id" id="test-questions-lisitem-{{question.id}}">
                                        {{question.orderNumber}}
                                    </span>
                                }
                            }
                        </div>
                    </div>

                    <div class="test-questions-list-part">
                        <h6 id="part-7">Part 7</h6>
                        <div class="test-questions-list-wrapper">
                            @for(question of questions; track question.id) {
                                @if(question.part == 7) {
                                    <span class="test-questions-listitem " [attr.data-qid]="question.id" id="test-questions-lisitem-{{question.id}}">
                                        {{question.orderNumber}}
                                    </span>
                                }
                            }
                        </div>
                    </div>
                </div>

              </div>
              <div class="resize-sensor"
                style="position: absolute; inset: 0px; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;">
                <div class="resize-sensor-expand"
                  style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;">
                  <div
                    style="position: absolute; left: 0px; top: 0px; transition: all 0s ease 0s; width: 100000px; height: 100000px;">
                  </div>
                </div>
                <div class="resize-sensor-shrink"
                  style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;">
                  <div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="resize-sensor"
            style="position: absolute; inset: 0px; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;">
            <div class="resize-sensor-expand"
              style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;">
              <div
                style="position: absolute; left: 0px; top: 0px; transition: all 0s ease 0s; width: 100000px; height: 100000px;">
              </div>
            </div>
            <div class="resize-sensor-shrink"
              style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;">
              <div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>